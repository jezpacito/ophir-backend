<?php

namespace Tests\Feature\Http\Controller;

use App\Models\Beneficiary;
use App\Models\Branch;
use App\Models\Role;
use App\Models\User;
use Illuminate\Foundation\Testing\RefreshDatabase;
use Illuminate\Foundation\Testing\WithFaker;
use Tests\TestCase;

class UserControllerTest extends TestCase
{
    use RefreshDatabase, WithFaker;

    public function setUp(): void
    {
        parent::setUp();
        $this->seed();
    }

    public function test_list_of_encoder_staff_per_branch()
    {
        $this->actingAs(User::factory()->create());

        $branch = Branch::first();
        $user = User::factory()->create([
            'branch_id' => $branch->id,
        ]);
        $role = Role::ofName(Role::ROLE_ADMIN);
        $user->roles()->attach($role->id);

        $response = $this->get("api/users-branch/$branch->id", ['Accept' => 'application/json']);
        $response->assertStatus(200);
    }

    /**
     * A basic feature test example.
     *
     * @return void
     */
    public function test_add_user()
    {
        $this->actingAs(User::factory()->create());

        $beneficiaries = Beneficiary::factory()->count(2)->make();
        unset($beneficiaries[0]['user_id']);
        unset($beneficiaries[1]['user_id']);

        $data = [
            'firstname' => $this->faker()->firstName(),
            'middlename' => $this->faker()->lastName(),
            'lastname' => $this->faker()->lastName(),
            'email' => 'test@test.com',
            'role' => Role::ROLE_ADMIN,
            'beneficiaries' => $beneficiaries->toArray(),
        ];

        $response = $this->post('api/users', $data, ['Accept' => 'application/json']);
        $response->assertStatus(201);

        $this->assertDatabaseHas('users', [
            'firstname' => $data['firstname'],
            'lastname' => $data['lastname'],
            'email' => $data['email'],
        ]);
    }

    /**
     * A basic feature test example.
     *
     * @return void
     */
    public function test_upload_image()
    {
        $user = User::factory()->create();
        $this->actingAs($user);

        $base64Image2 = ' data:image/png;base64,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';

        $data = [
            'image' => $base64Image2,
            'image_type' => 'signature_image', //could be profile_image or signature_image
        ];

        $response = $this->post("api/upload-image/$user->id", $data, ['Accept' => 'application/json']);
        $response->assertStatus(200);
    }
}
